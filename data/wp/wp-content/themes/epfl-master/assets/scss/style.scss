@charset "UTF-8";

/* CSS Document */

/*-----------------------------------------
>>> TABLE OF CONTENTS:
-------------------------------------------

01  BASE STYLE
    - Typography
    - Forms
    - Tables

02  JAHIA IMPORTED CONTENT

03  GLOBAL CONTENT & SITE STRUCTURE
    - Structure
    - Pages
    - Articles

04  HEADER
    - Site title
    - Main navigation

05  FOOTER

06  SIDEBAR

07  PRIMARY CONTENT

--  MEDIA QUERIES
    
------------------------------------------*/

@import "variables-site/_variables-site";
@import "mixins/_mixins-master";

@import "partials/_wpresets";
@import "partials/_epfl";
@import "partials/_jahia";
@import "partials/_base";
@import "partials/_webservices";


/*  ---------------------------------------
    03 GLOBAL CONTENT & SITE STRUCTURE
----------------------------------------- */

/* --- EPFL resets --- */

body.search {
  float: none;
  margin: auto;
  width: 100%;
}
.search .search-submit {
  padding: 0 15px;
}

/* --- Structure --- */

body {
  line-height: 1.2em;
  padding-bottom: 24px;
}
.site {
  font-size: 1rem;
  margin: 0;
  padding: 0;
  width: auto;
}

.site-content {
  margin-top: 10px;
  padding: 0;
}
#content.site-content,
.page:not(.home) #content {
  padding-bottom: 40px;
}

.wrap {
  @include clearfix;
  margin-left: auto;
  margin-right: auto;
  max-width: 700px;
  padding-left: 2em;
  padding-right: 2em;
}

.panel-content .wrap {
  padding: 0;
  width: 100%;
}

.site-main {
  @include clearfix;
  border-top: 1px solid #000;
  padding-top: 6px;
}

#primary.col,
#secondary.col {
  @include clearfix;
  padding: 0 5px;
}

/* --- Icons --- */

.fa-icon,
.icon {
  border: 0;
  position: relative;
  
  &:before {
    @include icon;
  }
  
  &:hover {
    border: 0;
    text-decoration: none;
  }
}

/*
.fa-icon.btn-icon,
.icon.btn-icon
*/

.btn-icon {
  @include color-bg-icons;
  
  &:before {
    @include icon;
    border-radius: 50%;
    border: 0;
    color: #fff;
    font-size: 12px;
    line-height: 24px;
    height: 24px;
    margin-right: .5em;
    text-align: center;
    transition: all .2s ease-in-out;
    vertical-align: middle;
    width: 24px;
  }
  
  & > .label {
    @include minor-text;
    border-bottom: 1px dotted #000;
    transition: all .2s ease-in-out;
    vertical-align: middle;
  }
  
  &:hover > .label {
    border-bottom-style: solid;
  }
}

.fa-icon.print:before {
  content: "\f02f";
}
.fa-icon.feed:before {
  content: "\f09e";
}
.fa-icon.share:before {
  content: "\f1e0";
}
.fa-icon.information:before {
  content: "\f129";
}
.fa-icon.question:before {
  content: "\f128";
}
.fa-icon.mail:before {
  content: "\f0e0";
}
.fa-icon.podcast:before {
  content: "\f2ce";
}
.fa-icon.contact:before {
  content: "\f007";
}
.fa-icon.group:before {
  content: "\f0c0";
}
.fa-icon.check:before {
  content: "\f00c";
}
.fa-icon.cross:before {
  content: "\f00d";
}
.fa-icon.plus:before {
  content: "\f067";
}
.fa-icon.comment:before {
  content: "\f075";
}
.fa-icon.edit:before {
  content: "\f040";
}
.fa-icon.download:before {
  content: "\f019";
}
.fa-icon.file:before {
  content: "\f15b";
}
.fa-icon.file-pdf:before {
  content: "\f1c1";
}
.fa-icon.files:before {
  content: "\f0c5";
}
.fa-icon.stats:before {
  content: "\f080";
}
.fa-icon.showall:before {
  content: "\f06e";
}
.fa-icon.time:before {
  content: "\f017";
}
.fa-icon.url:before {
  content: "\f0c1";
}
.fa-icon.hierarchy:before {
  content: "\f0e8";
}
.fa-icon.bullseye:before {
  content: "\f05b";
}
.fa-icon.accred:before {
  content: "\f084";
}
.fa-icon.data:before {
  content: "\f233";
}
.fa-icon.up:before {
  content: "\f077";
}
.fa-icon.down:before {
  content: "\f078";
}
.fa-icon.previous:before {
  content: "\f053";
}
.fa-icon.next:before {
  content: "\f054";
}
.fa-icon.go-to-start:before {
  content: "\f100";
}
.fa-icon.go-to-end:before {
  content: "\f101";
}

// Social icons

a[class*="a2a_button_"],
.a2a_dd {
  @include transition-colors;
  background: #999c98;
  border-radius: 50%;
  color: #fff;
  font-size: 14px !important;
  height: 26px !important;
  line-height: 26px !important;
  margin: 0 6px 0 0;
  padding: 0 !important;
  width: 26px !important;
  
  svg,
  .a2a_svg {
    display: none;
  }
  
  &:before {
    @include icon;
    height: inherit;
    line-height: 26px;
    text-align: center;
    width: inherit;
  }
    
  &:hover {
    background: #6b6d6a;
    color: #fff;
  }

}

a.a2a_button_{
  
  // Facebook
  &facebook {
    &:before {
      content: "\f09a";
    }
    &:hover {
      background: #3b5998;
    }
  }
  
  // Twitter
  &twitter {
    &:before {
      content: "\f099";
    }
    &:hover {
      background: #00b6f1;
    }
  }
  
  // LinkedIn
  &linkedin {
    &:before {
      content: "\f0e1";
    }
    &:hover {
      background: #007bb6;
    }
  }
  
  // Google +
  &google_plus {
    &:before {
      content: "\f0d5";
    }
    &:hover {
      background: #df4a32;
    }
  }
  
  // Email
  &email {
    &:before {
      content: "\f0e0";
    }
  }
}

.addtoany_share_save:before {
  content: "\f067";
}

/* Collapsible panels */

.collapsible {
  margin: 1.5em 0;
}

.collapsible-header {
  cursor: pointer;
  position: relative;
}
.collapsible-header .title {
  border-bottom: 1px dotted #000;
  display: inline-block;
  font-weight: 500;
  margin-left: 16px;
  padding-right: 0;
  
  &:hover {
    border-bottom-style: solid;
  }
  
  &:before {
    @include icon;
    content: "\f0da";
    color: #000;
    font-size: 16px;
    font-weight: 400;
    line-height: 20px;
    position: absolute;
    top: auto; right: auto; bottom: auto; left: 0;
  }
  
  .open &:before {
    content: "\f0d7";
  }
}

.collapsible-content {
  padding-top: 15px;
  padding-right: 50px;
}

/* Faq items */

.faq-item {
  @include border-bottom-dots;
}

.faq-title {
  font-family: Arial, Helvetica, sans-serif;
  font-size: .9375em;
  font-weight: bold;
}

/* Colored box */

.colored-box {
  @include colored-text-box;
  @include clearfix;
  margin: 1.5em 0;
}

/* Search form */

.search-form .search-submit {
  @include color-background-btn;
  float: right;
  padding: 0;
  width: 32px;
  
  &:before {
    @include icon;
    content: "\f002";
    font-size: 16px;
    line-height: 32px;
  }
}
.search-form .search-field {
  .csscalc & {
    border-right: 0;
    width: calc( 100% - 32px );
  }
}


/*  ---------------------------------------
    02 JAHIA IMPORTED CONTENT
----------------------------------------- */

.entry-content .box {
  font-size: .8125em;
  line-height: 1.3em;
  margin-bottom: 20px;
  
  p {
    font-size: 1em;
    margin: 7px 0;
    
    &:last-child {
      margin-bottom: 0;
    }
  }
}

.box h3,
.fullbox h3 {
  font-family: Impact,"Arial Black","DejaVu Sans",Arial,Helvetica,sans-serif;
  font-weight: 400;
  font-size: 22px;
  letter-spacing: .1em;
  line-height: 26px;
  color: #000;
  text-transform: uppercase;
  padding: 1px 0 4px 1px;
  border-bottom: 1px solid #000;
  margin: 0 0 10px 0;
}

.local-color {
  @include colored-text-box;
  display: inline-block;
}
.local-color-down {
  @include colored-text-box;
  background: $primary-color-alt;
}

.local-color,
.local-color-down {
  font-size: .8125em;
  font-size: .8125rem;
  
  p {
    font-size: 1em;
    font-size: .8125rem;
  }
}

.box-flat-panel {
  padding: 6px 8px;
  width: 100%;
}

.news-list li,
.list-layout li {
  @include no-bullet;
}

/* --- People boxes --- */

.bottin * {
  font-size: 13px;
  line-height: 1.4em;
}

#page .bottin div:empty {
  display: block;
}

ul.bottin {
  list-style: none;
  
  li {
    padding-left: 0;
    
    &:before {
      display: none;
    }
  }
}

.bottin {
  @include clearfix;
  margin: 16px 0 30px;
  
  .row {
    @include clearfix;
  }
  
  h3.people {
    font-size: 18px;
    margin-bottom: .5em;
  }
  
  & + h3.people {
    font-size: 18px;
    margin-top: 20px;
  }
}

.bottin div.picture {
  margin: 0 0 6px 0;
  height: 140px;
  overflow: hidden;
  text-align: left;
  
  img {
    display: block;
  }
}
.bottin div.button,
.icon.icon-mail_button {
  margin-bottom: 2px;
  margin-right: 5px;
  padding: 0;
  width: 24px;
  
  + div.name {
    min-height: 24px;
  }
}
.bottin div.name {
  font-weight: 700;
  margin-bottom: 3px;
  padding-top: 2px;
}

.bottin .button,
.tdpeople .button,
.icon.icon-mail_button {
  @extend .btn-icon;
  background: transparent;
  font-weight: 400;
  height: 24px;
  line-height: 24px;
  padding: 0;
  position: relative;
  width: 24px;
  
  &:before {
    vertical-align: top;
    line-height: inherit !important;
    height: inherit;
    width: inherit !important;
  }
  
  &.mail:before {
    content: "\f0e0";
  }
  
  &.contact:before {
    content: "\f007";
  }
  
  .icon {
    display: block;
    height: 24px;
    opacity: 0;
    position: absolute;
    top: 0; right: 0; bottom: 0; left: 0;
    width: 24px;
  }
}

.icon.icon-mail_button:before {
  content: "\f0e0";
  color: #fff !important;
}

// Default lists

.tdpeople {
  border-bottom: 1px solid #aaaaaa;
  height: 36px;
  padding-top: 4px;
  padding-bottom: 4px;
  vertical-align: middle;
  
  &:first-child {
    padding-left: 0;
  }
  
  .button.mail {
    margin: 0;
  }
  
  div.picture {
    margin-bottom: 0;
  }
  
  img {
    display: block;
    margin-bottom: 0;
    max-height: none;
    max-width: none;
    //width: 50px;
  }
}

.bottin.default-list .pers {
  @include clearfix;
  border-bottom: 1px solid #aaaaaa;
  height: 32px;
  margin-bottom: 4px;
  padding-top: 4px;
  width: 100%;
  
  & + h3.people {
    margin-top: 26px;
  }
  
  .name {
    margin-left: 29px;
    min-height: 0;
  }
  .button.mail {
    float: left;
    
    & + .name {
      margin-left: 0;
    }
  }
  .phone {
    width: 120px;
  }
  .room {
    text-align: right;
    width: 95px;
  }
}

.bottin.list-img {
  
  .tdpeople {
    height: auto;
  }
  div.picture {
    height: auto;
    min-height: 60px;
    width: 50px;
  }
}

// Bloc

.pers_bloc {
  @include clearfix;
  height: 150px;
  float: left;
  margin-left: 0px;
  margin-bottom: 5px;
  width: 320px;
}

// Photo box

.bottin .photo_box {
  float: left;
  margin-bottom: 30px;
  padding-right: 20px;
  width: 50% !important;
  
  h1 {
    display: none;
  }
  
  .button.mail {
    float: left;
  }
  
  .picture {
    float: none;
    width: 110px;
  }
}

// Structured lists

.bottin td:first-child {
  padding-left: 0;
}
.bottin td h3.people {
  margin-top: 8px;
}

// Misc templates

.people-list {
  
  .icon-mail_button:before,
  .tools .share-mail .icon:before {
    content: "\f0e0";
  }
  
  .btn-inline.themed .icon::before,
  .btn-inline.themed::before,
  .themed .btn-inline .icon::before,
  .themed .btn-inline::before {
    background: $primary-color;
    border-radius: 50%;
    color: #fff;
    font-size: 12px;
    height: 24px;
    line-height: 24px;
    width: 24px;
  }
}

.people_list,
#people_list {
  @include clearfix;
  
  h3 {
    margin: .5em 0;
  }
  
  tr:not(:first-child) h3 {
    margin-top: 1em;
  }
  
  td {
    border: 0;
    vertical-align: middle;
  }
  
  .photo {
    margin-bottom: 5px;
    
    img {
      vertical-align: top;
    }
  }
  
  .details,
  .email,
  .phone {
    margin-bottom: 5px;
  }
  
  .email .button,
  .button.mail {
    @extend .btn-icon;
    background: transparent;
    font-weight: 400;
    height: 24px;
    padding: 0;
    position: relative;
    width: 24px;
    
    &:before {
      vertical-align: top;
    }
    
    &.mail:before {
      content: "\f0e0";
    }
    .icon {
      display: block;
      height: 24px;
      opacity: 0;
      position: absolute;
      top: 0; right: 0; bottom: 0; left: 0;
      width: 24px;
      
      &[hidden] {
        display: block;
      }
    }
  }
  
  .personn {
    @include clearfix;
  }
  
}



/*  ---------------------------------------
    04 HEADER
----------------------------------------- */

.menu li,
.nav li,
.lang li,
.widget ul li {
  @include no-bullet;
}

/* --- EPFL banner --- */

.header-top,
#header2013 {
  box-sizing: content-box;
}

#header2013 {
  background: #fff;
  margin-left: -8px;
  margin-right: -8px;
  padding: 0 8px;
  position: relative;
  width: 100%;
  z-index: 9999;
  
  @include clearfix;
}

#header2013 #nav-logo a {
  border: none;
}

#nav-menus {
  width: auto;
  
  li {
    @include no-bullet;
  }
}

#header2013 #nav-menus a.main-link {
  border-bottom: none;
  
  &:after {
    @include icon;
    content: "\f063";
    float: right;
    font-size: 10px;
    height: auto;
    position: absolute;
    top: auto; right: -1px; bottom: -1px; left: auto;
    transform: rotate(-45deg);
    width: auto;
  }
}

#header2013 #nav-menus .navigation-panel {
  background: #fff;
  width: 976px;
  z-index: 9999;
}

.navigation-panel .group-2-cols {
  box-sizing: border-box;
  margin-right: 0;
  margin-bottom: 10px;
  padding-right: 10px;
  width: 33.3334%;
  
  ul {
    margin-left: 0;
  }
  
  h3 a {
    border: 0;
  }
}

#nav-search {
  @include clearfix;
  float: right; 
  width: 320px;
  
  #search-box {
    position: static;
  }
}

#header2013 input.search {
  width: 150px;
  width: calc(100% - 145px - 18px);
}

#header2013 .search-filter {
  position: relative;
  
  &:before {
    content: "";
    border-left: 1px dotted #c5c5c5;
    position: absolute;
    top: 3px; right: auto; bottom: 3px; left: 0;
  }
}

#header2013 .search-filter .menu {
  margin-top: 0;
}

#header2013 .search-filter .selected-field {
  position: relative;
  
  &:after {
    @include icon;
    content: "\f063";
    float: right;
    font-size: 10px;
    position: absolute;
    top: auto; right: 5px; bottom: 5px; left: auto;
    transform: rotate(-45deg);
  }
}

#header2013 .search-button {
  background: $primary-color url(../images/search.png) no-repeat;
  color: black;
  padding: 0;
  position: relative;
  
  .svg & {
    background-image: url(../images/search.svg);
  }
}

/* Responsive header */

.site-header.epfl {
  margin: 0;
  padding: 5px 0 0;
  
  .logo {
    margin-top: 10px;
    padding: 0;
    width: 16%;
  }
  
  .epflnav {
    width: 50%;
  }
  
  .search {
    float: right;
    width: 33%;
  }
}

.epflnav .nav-item {
  background: transparent;
}
.epflnav .nav-link {
  color: #000;
  
  .icon-arrow-bottom-right {
    display: inline-block;
    
    &:before {
      display: none;
    }
    
    &:after {
      @include icon;
      content: "\f063";
      background: transparent;
      font-size: 10px;
      margin: 0 0 0 .5em;
      padding: 0;
      transform: rotate(-45deg);
    }
    
  }
}

.epflnav .icon-menu {
  padding: 0 6px;
  top: 10px;
  
  &:before {
    @include icon;
    content: "\f0c9";
    font-size: 1.375em;
    height: 32px;
    line-height: 32px;
    margin: 0;
    padding: 0;
    text-align: center;
  }
}

.site-header.epfl nav {
  
  h2,
  h3 {
    margin: 0 0 4px 0;
    padding: 0;
    font-family: Arial,Helvetica,sans-serif;
    font-size: 13px;
    line-height: 14px;
    font-weight: 700;
    letter-spacing: .05em;
    
    a {
      color: red;
    }
  }
  
}

.search .icon {
  padding: 0 6px;
  top: 10px;
  
  &:before {
    @include icon;
    content: "\f002";
    font-size: 1.25em;
    height: 32px;
    line-height: 32px;
    margin: 0;
    padding: 0;
    text-align: center;
  }
}

#epfl-header .form-input {
  display: block;
  float: left;
  width: 150px;
  width: calc(100% - 120px - 25px);
  
  .search-query {
    height: 25px;
    line-height: 25px;
    padding: 0 5px;
    width: 100%;
    
    &:focus {
      border-color: #000;
    }
  }
  
  &.form-input-mini {
    min-width: 0;
    width: 25px;
  }
}

#epfl-header .autocomplete-suggestions {
  border-top: 0;
  margin-top: -0.5em;
  width: 329px !important;
  
  .autocomplete-suggestion {
    font-size: 14px;
  }
}

#epfl-header .form-select {
  background: #fff;
  float: left;
  font-size: 13px;
  font-family: Arial, Helvetica, sans-serif;
  font-weight: bold;
  height: 25px;
  line-height: 25px;
  padding-left: 0;
  position: relative;
  transition: all .3s ease-in-out;
  width: 120px;
  
  &:after {
    @include icon;
    content: "\f063";
    background: transparent;
    float: right;
    font-size: 10px;
    margin: 0;
    padding: 0;
    position: absolute;
    top: 8px; right: 5px; bottom: 5px; left: auto;
    transform: rotate(-45deg);
  }
  
  &:hover {
    background: #000;
    color: #fff;
  }
  
  select {
    height: inherit;
    line-height: inherit;
    padding: 0 5px;
  }
}
#epfl-header .search-submit {
  @include color-background-btn;
  border: none;
  cursor: pointer;
  float: left;
  height: 25px;
  line-height: 25px;
  padding: 0;
  vertical-align: bottom;
  width: 25px;
  
  &:before {
    @include icon;
    content: "\f002";
    height: inherit;
    line-height: inherit;
    vertical-align: top;
    width: 100%;
  }
}

/* --- Site logo --- */

.site-branding {
	padding: 1em 0;
	position: relative;
	-webkit-transition: margin-bottom 0.2s;
	transition: margin-bottom 0.2s;
	z-index: 3;
}

.site-branding a {
	text-decoration: none;
}

.site-branding a:hover,
.site-branding a:focus {
	opacity: 0.7;
}

.site-title {
	clear: none;
	font-size: 24px;
	font-size: 1.5rem;
	font-weight: 800;
	line-height: 1.25;
	letter-spacing: 0.08em;
	margin: 0;
	padding: 0;
	text-transform: uppercase;
}

.site-title,
.site-title a {
	color: #222;
	opacity: 1 !important; /* Prevent opacity from changing during selective refreshes in the customize preview */
}

.site-title .title {
  @include color-text;
}

.custom-logo-link {
  display: block;
  margin-bottom: 10px;
  padding: 0;
  
  img {
    display: block;
  }
}

/* --- Site title --- */

.site-header {
  background: none;
  
  a {
    @include color-link;
    border: 0;
  }
}
.site-branding {
  margin-bottom: 0 !important;
}
.site-title {
  @include txt-narrow;
  font-size: 1.625em /* 26px */;
  letter-spacing: 1px;
  text-transform: uppercase;
}

/* --- Main navigation --- */

.nav,
.nav ul {
  padding-left: 0;
}

.navigation-top {
  @include color-background;
  border: 0;
}
.main-navigation .menu {
  border-top: 0;
  border-bottom: 1px solid #000;
  padding-top: 6px;
  padding-bottom: 6px;
  
  li {
    border-bottom: 1px solid #000;
    margin: 0;
    position: relative;
    
    &:last-child {
      border-bottom: 0;
    }
  }
  
  a {
    border: none !important;
    padding: .5em;
  }
}

.main-navigation .current-menu-item,
.main-navigation .current_page_item {
  background: #000;
  
  & > a {
    color: #fff;
  }
}

.main-navigation li.link-home a:before {
  content: "\f015";
  font: normal normal normal 14px/1 FontAwesome !important;
  margin-right: .5em;
}

/* --- Sub menu --- */

.dropdown-toggle {
  color: #000;
  padding: 0;
  right: 0;
  width: 25px;
  
  &:hover {
    color: $primary-color;
  }
  
  &:after {
    @include icon;
    content: "\f107";
    font-size: 20px;
    vertical-align: middle;
  }
  
  &.toggled-on:after {
    content: "\f106";
  }
  
  .main-navigation .current-menu-item &,
  .main-navigation .current_page_item & {
    color: #fff;
  }
}

.main-navigation .sub-menu {
  padding-bottom: 10px;
  
  &.toggled-on {
    display: block;
  }
}

/* --- Mobile navigation --- */

.main-navigation .menu-toggle {
  color: #fff;
  padding: .5em 1em;
  
  &:before {
    @include icon;
    content: "\f0c9";
    margin-right: .5em;
  }
  
  &[aria-expanded="true"]:before {
    content: "\f00d";
  }
}

/* --- Page tools --- */

.page-tools {
  background: #eee;
  padding: 4px 0;
  
  a {
    &:hover {
      border-bottom: 1px solid #000;
    }
  }
}

/* Breadcrumbs */

.page-tools .breadcrumb {
  display: none;
  
  .breadcrumbs {
    list-style: none;
    margin: 0;
    overflow: hidden;
    padding: 0;
  }
  
  li {
    display: inline-block;
    vertical-align: middle;
    margin: 0;
    margin-right: .75em;
  }
}
#breadcrumbs {
  top: 0;
  
  a {
    padding: 0;
  }
}

/* Language switcher */

.lang {
  padding: 0;
  position: static;
  text-align: left;
}

.language-switcher {
  list-style: none;
  margin: 0;
  padding: 0;
  
  li {
    display: inline-block;
    font-size: .75em;
    margin: 0;
    margin-right: .5em;
    
    &:after {
      content: "/";
      color: #a3a3a3;
      margin-left: .75em;
    }
    
    &:last-child {
      margin-right: 0;
      
      &:after {
        display: none;
      }
    }
  }
  
  a {
    color: #666;
  }
  
  .current-lang {
    a {
      color: #000;
      font-weight: bold;
    }
  }
}

/*  ---------------------------------------
    05 FOOTER
----------------------------------------- */

.site-footer {
  border: 0;
  margin-top: 0;
  
  .wrap {
    padding-top: 0;
    padding-bottom: 0;
  }
  
  .footer-content {
    @include clearfix;
    border-bottom: 1px solid #000;
    padding: 40px 0 5px;
  }
  
  p {
    font-size: .6875em;
  }
  
  a {
    @include color-link;
    border: none;
  }
}

.footer-nav {
  @include clearfix;
  list-style: none;
  margin-top: 0;
  
  li {
    float: left;
    font-size: .6875em;
    margin-right: .5em;
    position: relative;
    
    &:after {
      content: "|";
      margin-left: .5em;
    }
  }
}

.footer-content .site-info {
  
  span {
    display: inline-block;
    margin-right: .5em;
    position: relative;
    
    &:after {
      content: "|";
      margin-left: .5em;
    }
    
    &:last-child:after {
      display: none;
    }
  }
}

.footer-content .site-admin {
  
  &:before {
    @include icon;
    content: "\f061";
  }
}

/*  ---------------------------------------
    06 SIDEBAR
----------------------------------------- */

#secondary {
  padding-top: 0;
}

/* Secondary navigation */

// Hide all pages, and show only the ones related to the current page (parent, ancestors, siblings, etc)

.sidebar .nav > li.menu-item {
  
  // Hide the top level item of the current page ancestry
  & > a {
    display: none;
  }
}

// Generic nav styles

.sidebar .nav {
  list-style: none;
  margin: 0 0 30px;
  
  a {
    @include color-background-btn;
    border: none;
    color: #fff;
    display: block;
    font-weight: bold;
    padding: 3px 20px;
  }
  
  li {
    border-bottom: 1px solid #fff;
    margin: 0;
    position: relative;
    
    &.current_page_item {
      
      a {
        background: #000;
        color: #fff;
      }
    }
  }
  
  & > .menu-item {
    margin-bottom: 10px;
  }
}

.sidebar .sub-menu {
  border-top: 1px solid #fff;
  list-style: none;
  margin: 0;
}

// Select top menu item
.sidebar .nav > .menu-item {
  
  // 2nd level children
  .sub-menu .sub-menu {
    border-top: 1px solid #fff;
    
    li {
      border-bottom: 1px solid #a3a3a3;
      color: #000;
      
      &:last-child {
        border: 0;
      }
    }
    
    a {
      background: #fff;
      color: #000;
      font-weight: bold;
      padding-left: 40px;
      
      &:hover {
        background: $light-grey;
      }
    }
    
    
    // 3rd level children
    ul li {
      border: none;
      
      a {
        padding-left: 60px;
      }
    }
    
  }
}
.sidebar .nav li.current_page_item > a {
  background: #000 !important;
  color: #fff !important;
}

.sub-menu-control {
  
  @include icon;
  
  background: transparent;
  color: #fff;
  height: 20px;
  padding: 0;
  position: absolute;
  top: 1px; right: auto; bottom: auto; left: 0;
  width: 20px;
  
  &:hover {
    background: transparent;
  }
  
  &:before {
    content: "\f105";
  }
  .open > &:before {
    content: "\f107";
  }
  
  .sub-menu .sub-menu & {
    color: #000;
    left: 20px;
  }
  
}
.sub-menu .sub-menu .sub-menu-control {
  color: #000;
  left: 20px;
}

/* Widgets */

.sidebar .widget {
  margin-bottom: 40px;
  padding: 0;
  
  &:last-child {
    margin-bottom: 0;
  }
}

.sidebar-title {
  @include txt-narrow;
  border-bottom: 1px solid #000;
  color: #000;
  font-style: normal;
  font-size: 1.375em;
  line-height: 1.2em;
  margin-bottom: .5em;
  text-transform: uppercase;
  padding: 1px 0 4px 1px;
}

.sidebar .widget-title {
  @extend .sidebar-title;
}

.sidebar .home-panel {
  @include colored-text-box;
}

.sidebar .collapsible {
  
  .collapsible-header {
    @extend .sidebar-title;
  
    .title {
      @include txt-narrow;
      border: 0;
      
      &:before {
        line-height: 24px;
      }
    }
  }
  
  .collapsible-content {
    padding: 0 0 0 16px;
  }
  
}

/*  ---------------------------------------
    07 PRIMARY CONTENT
----------------------------------------- */

/* Toolbar */

.toolbar {
  background: transparent;
  border: 0;
  height: 28px;
  margin-bottom: 8px;
}

.social-share {
  
  .label {
    display: inline-block;
    font: italic .75em Georgia, 'Times New Roman', Times, serif;
    margin: 0 .5em 0 0;
    position: relative;
    top: 1px;
    vertical-align: middle;
  }
  
  .EPFLShareHorizontal {
    display: inline-block;
    vertical-align: middle;
  }
  
}

.EPFLShareUl {
  @include clearfix;
  
  .EPFLShare {
    @include transition-colors;
    background: darken( $light-grey, 6%);
    
    &.EPFLShareFacebookBackground:hover {
       background-color: #3C589A
    }
    
    &.EPFLShareTwitterBackground:hover {
       background-color: #55acee
    }
    
    &.EPFLShareLinkedinBackground:hover {
       background-color: #0077B5
    }
    
    &.EPFLShareGoogleplusBackground:hover {
       background-color: #dd4b39
    }
    
    &.EPFLShareEmailBackground:hover {
       background-color: #649A3F
    }
  }
}

/* Page title */

.site-main .entry-header .entry-title,
.site-main .entry-header h1.entry-title {
  font-family: "Arial black", Arial, Helvetica, sans-serif;
  font-size: 1.6875em;
  line-height: 1.4em;
  text-transform: none;
}

.entry-header .entry-title {
  letter-spacing: normal;
}
  
.page-header,
.entry-header {
  margin-bottom: 20px;
  
  .page-title {
    margin: 0;
    padding: 0;
  }
}

/* --- Single article --- */

.post-thumbnail {
  margin-top: 20px;
  margin-bottom: 20px;
  
  img {
    display: block;
    vertical-align: top;
  }
}

.entry-meta {
  letter-spacing: 0;
  padding: 0;
  text-transform: none;
}

/* Article list */

.list-articles .post {
  @include clearfix;
  @include border-bottom-dots;
}

.list-articles .entry-header {
  margin-bottom: 0;
  
  .entry-title {
    font-family: Arial,Helvetica,Verdana,sans-serif;
    font-size: .875rem;
    font-weight: bold;
    padding: 0;
    margin: 0 0 6px 0;
    color: #000;
    text-transform: none;

  }
  
}
.list-articles .post-thumbnail {
  margin: 0;
  margin-bottom: 20px;
  
  a {
    border: none;
    display: block;
  }
}

.post-link {
  border: none;
  display: block;
  
  &:hover {
    box-shadow: none !important;
  }
}

.list-articles .entry-content {
    
  .entry-meta {
    @include minor-text;
    color: #000;
    font-weight: bold;
    margin-bottom: 6px;
  }
  
  .entry-date {
    margin-right: .5em;
  }
  
  .post-categories {
    display: inline-block;
    list-style: none;
    margin: 0;
    padding: 0;
    
    li {
      display: inline-block;
      margin: 0 .1em;
    }
  }
  
  .teaser {
    font-size: .8125rem;
    height: 3.9em;
    overflow: hidden;
    position: relative;
    
    &:after {
      content: "";
      background: transparent;
      height: 3.3em;
      position: absolute;
      top: auto; right: 0; bottom: 0; left: 0;
      
      /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#ffffff+0,ffffff+100&0+0,0.8+100 */
      background: -moz-linear-gradient(top, rgba(255,255,255,0) 0%, rgba(255,255,255,0.8) 100%); /* FF3.6-15 */
      background: -webkit-linear-gradient(top, rgba(255,255,255,0) 0%,rgba(255,255,255,0.8) 100%); /* Chrome10-25,Safari5.1-6 */
      background: linear-gradient(to bottom, rgba(255,255,255,0) 0%,rgba(255,255,255,0.8) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='#ccffffff',GradientType=0 ); /* IE6-9 */

    }
    
    p {
      margin: 0;
    }
  }
}

/* Meta data */

.entry-footer .entry-meta {
  @include colored-box;
  color: #fff;
  margin: 2em 0;
  padding: .2em .5em;
  
  p {
    @include minor-text;
  }
  
  .label {
    font-weight: bold;
  }
}

/* Comments */

.comment-list {
  @include border-bottom-dots;
  
  .comment {
    @include border-bottom-dots;
  }
  
  .comment-body {
    margin-left: 0;
  }
  
  .avatar {
    display: none;
  }
  
}

.comment .comment-meta {
  @include minor-text;
  
  .comment-author {
    font-size: .875rem;
  }
  
  .comment-metadata {
    font-size: .6875rem;
    letter-spacing: 0;
    text-transform: none;
  }
}

.comment .reply {
  @include minor-text;
  margin-top: 10px;
  
  .comment-reply-link {
    left: 2em;
    position: relative;
  }
}

/* Post navigation */

.nav-links {
  @include clearfix;
  font-size: .8125em;
  line-height: 1.4em;
  margin: 20px 0;
  
  .nav-previous {
    float: left;
    margin-bottom: 10px;
    padding-left: 1em;
    position: relative;
    
    &:before {
      content: "‹";
      margin-right: .5em;
      position: absolute;
      top: -1px; right: auto; bottom: auto; left: 0;
    }
  }
  
  .nav-next {
    float: right;
    padding-right: 1em;
    position: relative;
    
    &:after {
      content: "›";
      margin-left: .5em;
      position: absolute;
      top: -1px; right: 0; bottom: auto; left: auto;
    }
  }
}

/* --- Plugins --- */

.simple-sitemap-page {
  list-style: none;
  padding-left: 24px;
  position: relative;
  
  &:before {
    content: "";
    border-left: 1px dotted #000;
    height: auto;
    position: absolute;
    top: 2px; right: auto; bottom: 8px; left: 9px;
    width: 0;
  }
  
  a {
    position: relative;
    
      &:before {
      content: "";
      border-bottom: 1px dotted #000;
      position: absolute;
      top: 50%; right: auto; bottom: auto; left: -14px;
      width: 12px;
    }
    
  }
}

.simple-sitemap-page .page_item_has_children {
  position: relative;
  
}
.simple-sitemap-page .children-toggle {
    background: #fff;
    border: 1px solid #808080;
    color: #000;
    height: 14px;
    line-height: 1;
    padding: 0;
    position: absolute;
    top: 1px; right: auto; bottom: auto; left: -22px;
    text-align: center;
    width: 14px;
    z-index: 1;
  
  &:before {
    content: "–";
    display: inline-block;
    height: 12px;
    line-height: 10px;
    position: absolute;
    top: 0; right: 0; bottom: 0; left: 0;
    width: 12px;
  }
  
  &.open:before {
    content: "+";
  }
}

.simple-sitemap-page .children {
  list-style: none;
  margin-left: 15px;
  padding-left: 15px;
  position: relative;
  
  &:before {
    content: "";
    border-left: 1px dotted #000;
    height: auto;
    position: absolute;
    top: 2px; right: auto; bottom: 8px; left: 0;
    width: 0;
  }
}

/*  ---------------------------------------
    08 SHORTCODES
----------------------------------------- */

/* --- News --- */
  
@mixin news-narrow-content {
  
  .entry-header {
    width: 100%;
    
    .entry-title {
      line-height: 1.4em;
      margin-bottom: 6px;
      overflow: hidden;
    }
  }
  
  .entry-content {
    @include gradient-fade;
    float: right;
    line-height: 0;
    overflow: hidden;
    padding: 0;
    
    &:after {
      height: 2.1em;

    }
    
    .entry-meta {
      display: inline;
      margin-bottom: 0;
      
      .entry-date {
        margin-bottom: 0;
      }
    }
    
    .teaser {
      display: inline;
      line-height: 1;
    
      &:after {
        display: none;
      }
      
      p {
        display: inline;
        font-size: .75rem;
        line-height: 1.3em;
        padding: 0;
      }
    }
  }
}

.list-articles.list-news {
  border-top: 1px solid #000;
  padding-top: 15px;
  
  .sidebar & {
    border-top: 0;
    padding-top: 0;
  }
}

.list-news {
  
  .post {
    position: relative;
  }
  
  .entry-date {
    @include minor-text;
    color: #000;
    font-weight: bold;
    margin-bottom: 6px;
  }
  
  .category-label {
    @include txt-narrow;
    background: #000;
    border: solid #fff;
    border-width: 0 1px 1px 0;
    color: #fff;
    padding: 2px 6px;
    position: absolute;
    top: 0; right: auto; bottom: auto; left: 0;
    text-transform: uppercase;
  }
  
}
  
/* Portal news with image on the left */

.list-articles.news-portal {
  @include news-narrow-content;
  
  .entry-content {
    float: none;
    max-height: 93px;
    width: 100%;
  }
  
  .teaser p {
    font-size: .75rem;
  }
  
  .links {
    margin-top: 4px;
    
    .link-action {
      
      &:before {
        font-size: 11px;
        line-height: 18px;
        height: 18px;
        width: 18px;
      }
      
      &:not(:last-child) {
        margin-right: 10px;
      }
    }
  }
}
  
/* Portal news with image on top */

.list-articles.news-portal-img-top {
  @include news-narrow-content;
  
  .post-thumbnail {
    margin-bottom: 10px;
  }
  
  .entry-content {
    float: none;
    max-height: 92px;
    width: 100%;
  }
  
}

/* List sidebar */

.list-news.list-news-sidebar {
  @include news-narrow-content;
  
  border-top: none;
  max-width: 320px;
  padding-top: 0;
  
  article.post {
    clear: right;
    overflow: hidden;
  }
  
  .post-thumbnail {
    display: flex;
    justify-content: center;
    height: 86px;
    overflow: hidden;
    padding: 0;
    width: 36%;
    
    a {
      display: block;
      height: inherit;
    }
    img {
      height: inherit;
      max-width: none;
      width: auto;
    }
  }
  
  .entry-header {
    width: 100%;
    
    .entry-title {
      font-size: .75em;
      line-height: 1.4em;
      margin-bottom: 5px;
    }
  }
  
  .entry-content {
    height: 86px;
    width: 60%;
    
    &:after {
      height: 2.8em;
    }
    
    .teaser p {
      font-size: .75rem;
    }
    
  }
}

.sidebar .list-articles.list-news-textonly {
  
  .entry-title {
    font-size: .8125em;
    line-height: 1.4em;
    margin-bottom: 5px;
  }
  
  .entry-content {
    @include gradient-fade;
    
    height: 3.9em;
    line-height: 0;
    overflow: hidden;
    
    &:after {
      height: 2.8em;
    }
  
    .entry-meta {
      display: inline;
      margin-bottom: 0;
    }
    
    .teaser {
      display: inline;
      
      &:after {
        display: none;
      }
      
      p {
        display: inline;
        font-size: .75rem;
        line-height: 1.3em;
      }
    }
  }
  
}

/* --- Events --- */

.list-events {
  
  .event {
    @include clearfix;
    @include border-bottom-dots;
    position: relative;
  }
  
  .event-title {
    font-size: .875em;
    margin-bottom: .3em;
    margin-top: 0;
    padding: 0;
  }
  
  .event-dates {
    @include txt-narrow;
    background: #000;
    color: #fff;
    font-size: .875em;
    margin-bottom: 6px;
    padding: 0 6px;
    
    p {
      display: inline-block;
      margin-bottom: 0;
    }
    
    .date-end:before {
      content: "–";
      margin: 0 .25em;
    }
  }
}

.event .event-meta {
  @include minor-text;
  margin-bottom: 4px;
  
  p {
    display: inline;
    font-size: .75rem;
    padding: 0;
    
    &:empty {
      display: none;
    }
  }
  
  .event-times {
    font-weight: bold;
    
    & + .event-location {
      margin-left: .5em;
    }
  }
  
  .time-start + .time-end {
    
    &:before {
      content: "-";
      margin-right: .25em;
    }
  }
}

.event .event-export {
  @include color-icon;
  border: 0;
  
  &:before {
    @include icon;
    content: "\f271";
    font-size: 16px;
    margin-right: .25em;
  }
}

.event.has-teaser .event-content {
  
  .teaser {
    @include gradient-fade;
    clear: both;
    min-height: 2.6em;
    max-height: 4em;
    overflow: hidden;
    padding: 0;
    
    &:after {
      height: 72%;
    }
  }
}

.event .studying-calendar {
  margin-top: 10px;
  
  a {
    border: 0;
    color: #fff;
    
    &:before {
      @include icon;
      content: "\f073";
      margin-right: .5em;
    }
  }
}

/* Colored date box */
  
.list-events .has-image .event-dates {
  background: $primary-color;
  position: relative;
}

/* Events with featured image */

.list-events .has-image {
  
  .event-img {
    display: none;
  }
}

/* Events with extra content */

.list-events .event-extra {
  margin-top: 1em;
  
  .speakers {
    font-size: .6875em;
    font-size: .6875rem;
  }
}

/* Events with cover image */

.list-events .event.has-cover-image {
  border: 0;
  padding: 0;
  position: relative;
  
  a {
    opacity: 1;
    
    &:hover {
      opacity: .8;
    }
  }
  
  .cover-img {
    background: $primary-color;
    display: block;
    height: auto;
    margin: 0;
    width: 100%;
    
    img {
      height: auto;
      vertical-align: top;
      width: 100%;
    }
  }
  
  .event-dates {
    background: transparent !important;
    float: none;
    position: absolute;
    top: 10px; right: auto; bottom: auto; left: 10px;
  }
  
  .event-content {
    color: #fff;
    float: none;
    position: absolute;
    top: auto; right: 10px; bottom: 10px; left: 10px;
  }
  
  .event-title {
    color: #fff;
    
    a {
      color: #fff;
      border-color: #fff;
    }
  }
}

/* Sidebar */

.sidebar .list-events {
  
  .event-title {
    font-size: .8125em;
  }
}

/* Canceled event */

.list-events .event-canceled.has-image {
  
  .event-dates {
    background: rgba($light-grey, .8);
    color: rgba(0,0,0,.6);
    
    p {
      color: rgba(0,0,0,.4);
      
      &.date-end:after {
        border-color: rgba(0,0,0,.4);
      }
    }
    
    .canceled {
      float: right;
    }
  }
}


/*  -----------------------------------------------------------

	Media Queries - Mobile phones (> 480px)

------------------------------------------------------------ */

@media screen and (min-width: 30em) {
  
  /*  ---------------------------------------
    04 HEADER
  ----------------------------------------- */
  
  /* --- Site title --- */
  
  .site-branding {
    padding: 1em 0 !important;
  }
  
}

/*  -----------------------------------------------------------

	Media Queries - Small desktop & vertical tablets (> 768px)

------------------------------------------------------------ */

@media screen and (min-width: 48em) {
  
  /*  ---------------------------------------
    02 JAHIA IMPORTED CONTENT
  ----------------------------------------- */
  
  .box-flat-panel {
    width: 50%;
  }
  
  .entry-content .box {
    float: left;
    margin-bottom: 40px;
    padding-right: 2px;
    width: 50%;
    
    .box-flat-panel {
      width: 100%;
    }
    
    &.last-col {
      padding-left: 2px;
      padding-right: 0;
    }
  }
  
  .entry-content .right {
    margin-left: 25px;
    float: right;
  }
  
  /* --- People boxes --- */
  
  // Photo box

  .bottin .photo_box {
    width: 25% !important;
  }
  
  /*  ---------------------------------------
    03 GLOBAL CONTENT & SITE STRUCTURE
  ----------------------------------------- */
  
  .wrap {
    max-width: 1000px;
    padding-left: 3em;
    padding-right: 3em;
  }
  
  #primary.col,
  #secondary.col {
    padding-left: 7px;
  	padding-right: 8px; 
  }
  
  #secondary {
    font-size: 1rem;
  }
  
  /*  ---------------------------------------
    04 HEADER
  ----------------------------------------- */
  
  /* --- EPFL Header --- */
  
  .site-header.epfl .logo {
    margin-top: 6px;
  }
  .epflnav .nav-link {
    margin: 6px 0;
  }
  
  /* --- Site logo --- */

  .custom-logo-link {
    margin-bottom: 20px;
    
     img {
       max-width: none;
     }
  }
  
  /* --- Site title --- */
  
  .site-branding {
    padding: 24px 0 !important;
    
    .has-header-image & {
      padding-top: 12px !important;
    }
  }
  
  .custom-header {
    margin-bottom: 0 !important;
  }
  
  /* --- Main navigation --- */
  
  .menu-toggle,
	.dropdown-toggle {
		display: none;
	}

	.main-navigation {
		width: auto;
	}

	.main-navigation ul,
	.main-navigation ul ul,
	.main-navigation > div > ul {
		display: block;
	}
  
  .site-header .navigation-top {
    background: #fff;
    font-size: 1em;
    position: static;
    
    nav {
      margin: 0;
    }
  }
  .main-navigation {
    @include color-background;
  }
  
  .main-navigation .menu {
    @include clearfix;
    background: transparent;
    border: 0;
    padding: 0;
  }
  
  .main-navigation .menu > li {
    @include color-border;
    border-style: solid;
    border-width: 0 1px;
    display: block;
    float: left;
    height: inherit;
    margin: 0;
    padding: 0;
    vertical-align: top;
    
    &:first-child {
      border-left-width: 0 !important;
    }
    
    &:hover {
      border-color: #fff;
      border-width: 0 1px;
      
      & > a {
        color: #fff;
      }
    }
    
    & > a {
      @include color-background-btn;
      border: 0;
      color: #fff;
      display: block;
      height: inherit;
      line-height: 24px;
      overflow: hidden;
      padding: 0 8px;
    }
  }
  .main-navigation .menu li.current-menu-item,
  .main-navigation .menu li.current_page_item,
  .main-navigation .menu > li.current-menu-ancestor,
  .main-navigation .menu > li.current-menu-ancestor,
  .main-navigation .menu > li.current-menu-parent,
  .main-navigation .menu > li.current_page_ancestor {
    border-color: #fff;
    
    & > a {
      background: #000;
      color: #fff;
    }
  }
  
  .main-navigation li.link-home {
    text-indent: -3333px;
    
    a {
      //background: #000;
      width: 30px;
      
      &:before {
        position: relative;
        left: 3333px;
      }
    }
  }
  
  /* --- Sub menu (dropdown) --- */
  
  .main-navigation ul ul {
		background: #fff;
		border: 1px solid #bbb;
		left: -999em;
		padding: 0;
		position: absolute;
		top: 100%;
		z-index: 99999;
	}
  
  .main-navigation .sub-menu {
    border: 1px solid #000;
    border-top-width: 0;
    padding-top: 1px;
    padding-bottom: 0;
    width: 340px;
    
    ul {
      width: auto;
    }
  }
  
  .main-navigation .sub-menu li {
    background: #fff;
    border: 0;
    float: none;
    
    &:hover {
      background: #fff;
    }
    
    &.menu-item-has-children .icon {
      display: none;
    }
    
    a {
      color: #000;
      line-height: 1.4em;
      margin: 0 1px 1px;
      padding: 2px 8px;
      
      &:hover {
        background: $light-grey;
        border: 0;
      }
    }
  }
  
  .main-navigation .menu li:hover .sub-menu {
    left: 0;
  }
  
  .main-navigation .sub-menu li.focus > a:hover,
	.main-navigation .sub-menu li:focus > a:hover,
	.main-navigation .sub-menu li:hover > a:hover,
	.main-navigation .sub-menu li a:hover,
	.main-navigation .sub-menu li a:focus {
  	color: #000;
	}
  
  .main-navigation .sub-menu .sub-menu {
    border: 0;
    left: 0;
    margin-left: 1.5em;
    position: relative;
    
    &:before {
      content: "";
      border-left: 1px dotted $light-grey;
      position: absolute;
      top: 5px; right: auto; left: -1px; bottom: 5px;
    }
    
    a {
      font-weight: 400;
    }
  }
  
  /* --- Page tools --- */
  
  .site-header .page-tools {
    background: transparent;
    position: relative;
  }
  
  /* Breadcrumbs */
  
  .page-tools .breadcrumb {
    @include clearfix;
    display: block;
    float: left;
    max-width: 80%;
    margin: 0;
    padding: 0;
    
    li {
      font-size: .75em;
      margin-bottom: 0;
      
      &.separator {
        display: none;
      }
      
      &:after {
        content: "›";
        color: #a3a3a3;
        margin-left: .75em;
      }
       &:last-child {
         margin-right: 0;
         
         &:after {
           display: none;
         }
       }
    }
  }
  
  /* Language switcher */
  
  .page-tools .lang {
    @include clearfix;
    float: right;
    margin: 0;
    max-width: 20%;
    padding: 0;
    position: static;
    text-align: right;
  }
  
  /*  ---------------------------------------
    05 FOOTER
  ----------------------------------------- */
  
  .site-footer {
    font-size: 1rem;
    
    .footer-content {
      //border: 0;
      //padding-top: 0;
      padding-top: 15px;
    }
  }
  
  .footer-content {
    
    p {
      clear: none;
    }
  
    .footer-nav {
      border: 0;
      float: left;
    }
    
    .site-info {
      float: left;
      margin: 0;
      padding: 0;
      width: auto;
    }
    
    .site-admin {
      float: right;
    }
  }
  
  /*  ---------------------------------------
    07 PRIMARY CONTENT
  ----------------------------------------- */
  
  /* --- Articles --- */
  
  /* List */
  
  .list-articles .entry-header {
    float: right;
    width: 70%;
  }
  .list-articles .post-thumbnail {
    float: left;
    margin-bottom: 0;
    padding-right: 20px;
    width: 30%;
  }
  
  .list-articles .entry-content {
    clear: right;
    padding-left: 30%;
    
    & > * {
      clear: none;
    }
  }
  
  /* --- Single article --- */
  
  .nav-links {
    margin-top: 30px;
    
    & > div {
      max-width: 49%;
    }
  }
  
  /*  ---------------------------------------
      08 SHORTCODES
  ----------------------------------------- */
  
  /* --- News --- */
  
  /* List of articles with no picture */
  
  .list-articles.list-news-textonly {
    
    .entry-header {
      float: none;
      width: 100%;
    }
    
    .entry-content {
      padding: 0;
    }
  }
  
  /* List of articles with first article featured */
  
  .list-articles.list-news-first-featured {
    @include news-narrow-content;
    
    article.post {
      border: 0;
      clear: right;
      float: right;
      height: 88px;
      overflow: hidden;
      padding: 0;
      width: 50%;
      
      .post-thumbnail {
        display: flex;
        justify-content: center;
        height: 88px;
        overflow: hidden;
        padding: 0;
        width: 36%;
        
        a {
          display: block;
          height: inherit;
        }
        img {
          height: inherit;
          max-width: none;
          width: auto;
        }
      }
      
      .entry-header .entry-title {
        font-size: .75em;
      }
      
      .entry-content {
        height: 88px;
        width: 60%;
        
        &:after {
          height: 2.1em;
    
        }
      }
      
      &:first-of-type {
        float: left;
        height: auto;
        padding-right: 15px;
        
        .post-thumbnail {
          float: none;
          margin-bottom: 6px;
          padding: 0;
          height: auto;
          width: 100%;
        }
        
        .entry-header {
          float: none;
          width: 100%;
          
          .entry-title {
            font-size: .875rem;
          }
        }
        
        .entry-content {
          float: none;
          padding: 0;
          height: 108px;
          width: 100%;
          
          &:after {
            height: 3em;
          }
          
          .teaser {
            height: 4.6em;
          }
        }
      }
    }
    
  }
  
  /* Portal news with image on the left */
  
  .list-articles.news-portal {
    
    .post-thumbnail {
      width: 50%;
    }
    
    .entry-content {
      height: 104px;
      max-height: none;
      width: 50%
    }
        
    .entry-header .entry-title {
      font-size: .8125rem;
    }
    
    .links {
      float: right;
      width: 50%;
    }
  }
  
  /* Portal news with image on top */
  
  .list-articles.news-portal-img-top {
    
    .post-thumbnail {
      float: none;
      margin-bottom: 6px;
      padding: 0;
      width: 100%;
    }
    
    .entry-content {
      float: none;
      max-height: 92px;
      width: 100%
    }
  }

  /* --- Events --- */
  
  .list-events .event-dates {
    background: transparent;
    color: #666;
    float: left;
    font-size: 1.125em;
    margin: 0 5px 0 0;
    padding: 0;
    width: 40px;
    
    p {
      display: block;
      font-size: .75em;
      letter-spacing: .05em;
      padding: 0;
      text-align: center;
      text-transform: uppercase;
      width: 100%;
      
      &.date-end {
        margin-top: 8px;
        padding-top: 14px;
        position: relative;
        
        &:before {
          display: none;
        }
        
        &:after {
          content: "";
          border-top: 3px solid #666;
          position: absolute;
          top: 0; right: 7px; bottom: auto; left: 7px;
        }
      }
      
      &:first-line {
        font-size: 1.5em;
        letter-spacing: .05em;
      }
    }
  }

  .list-events .event-title,
  .list-events .event-content,
  .list-events .event-extra {
    clear: none;
    //float: left;
    padding-left: 50px;
    width: 595px;
    
    .sidebar & {
      width: 265px;
    }
  }
  
  .list-events .event .event-content > .event-title {
    padding: 0;
    width: 100%;
  }
  
  /* Colored date box */
  
  .list-events .has-image .event-dates {
    height: 112px;
    margin: 0;
    padding: 5px 0;
    width: 40px;
    
    p {
      color: #fff;
      
      &.date-end:after {
        border-color: #fff;
        right: 9px; left: 9px;
      }
    }
  }
  
  /* Events with featured image */
  
  .list-events .has-image {
    .event-img {
      display: block;
      float: left;
      height: 112px;
      margin: 0 10px 0 1px;
      width: 112px;
      
      a {
        display: block;
      }
    }
    
    .event-content {
      padding-left: 0;
      width: 480px;
      
      .sidebar & {
        width: 146px;
      }
    }
  }
  
  .event.has-teaser.has-image .event-content {
    height: 112px;
    overflow: hidden;
  }
  
  /* Events with extra content */
  
  .list-events .event-extra {
    margin-top: .5em;
  }
  
  .event.has-extra.has-image {
    
    .event-content {
      float: left;
      width: 330px;
    }
    
    .event-extra {
      float: right;
      height: 112px;
      margin-top: 0;
      overflow: hidden;
      padding: 0;
      width: 130px;
      
      .speakers {
        padding: 0;
      }
    }
  }
  
  /* Events with cover image */

  .list-events .event.has-cover-image {
    
    .event-dates {
      height: auto;
      padding: 0;
      top: auto; bottom: 25px; left: 20px;
      
      p {
        font-size: 1em;
      }
    }
    
    .event-content {
      top: auto; right: 20px; bottom: 25px; left: 90px;
      width: auto;
      
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      
      .event-title {
        float: left;
        font-size: 1em;
        vertical-align: bottom;
        width: 320px;
      }
      
      .studying-calendar {
        float: right;
        padding: 0;
        vertical-align: bottom;
        
        a {
          display: block;
          
          &:before {
            font-size: 3.5em;
            vertical-align: bottom;
          }
          
          .label {
            display: inline-block;
            font-weight: bold;
            vertical-align: bottom;
            width: 100px;
          }
        }
      }
    }
  }
  
  /* Sidebar */
  
  .sidebar {
    //.list-events .has-image .event-title,
    .list-events .has-image .event-content,
    .list-events .has-extra.has-image .event-content {
      float: left;
      width: 146px;
    }
    
    .has-extra.has-image .event-extra {
      display: none;
    }
    
  }
  
  
  /* Canceled event */

  .list-events .event-canceled.has-image {
    
    .event-dates .canceled {
      background: $light-grey;
      padding: 5px 0 3px;
      position: absolute;
      top: 50%; right: auto; bottom: auto; left: 41px;
      transform: translateY(-50%);
      width: 112px;
    }
  }
  
}

/*  -----------------------------------------------------------

	Media Queries - Desktop > 1024px

------------------------------------------------------------ */

@media screen and ( min-width: 64em ) {
  
  /*  ---------------------------------------
    03 GLOBAL CONTENT & SITE STRUCTURE
  ----------------------------------------- */
  
  .wrap {
    margin-left: auto;
    margin-right: auto;
    padding-left: 0;
    padding-right: 0;
    width: 976px;
  }
  
  #primary.col,
  #secondary.col {
    padding-left: 10px;
  	padding-right: 10px; 
  }
  
  /*  ---------------------------------------
    04 HEADER
  ----------------------------------------- */
  
  /* --- Main navigation --- */
  
  .navigation-top .wrap {
    padding: 0;
  }
  
  /*  ---------------------------------------
    07 PRIMARY CONTENT
  ----------------------------------------- */
  
  /* Page title & content */
  
  .entry-content {
    p,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      padding-right: 35px;
    }
    
    .colored-box,
    td {
      p,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        padding-right: 0;
      }
    }
    
  }
  
}
